Package: libiconv
Version: 1.8
Revision: 2
Source: gnu
Source-MD5: fd2a95a4b79fbdc8ea55ad093a8bb6cf
Essential: yes
Depends: base-files, %N-shlibs (= %v-%r)
BuildDepends: fink-prebinding
Patch: %n.patch
NoSetLDFLAGS: true
SetLIBS: -L%p/lib
ConfigureParams: --mandir=%p/share/man
InstallScript: <<
mkdir -p %i/share/man %i/share/doc/%n
make install prefix=%i mandir=%i/share/man docdir=%i/share/doc/%n
install -m 644 README* AUTHORS COPYING.LIB DESIGN NEWS NOTES THANKS %i/share/doc/%n/
rm -rf %i/doc
rm -f %i/lib/charset.alias
<<
SplitOff: <<
  Package: %N-shlibs
  Replaces: %N (<= 1.8-1)
  Files: <<
    lib/libcharset.*.dylib
    lib/libiconv.*.dylib
  <<
  Shlibs: <<
    %p/lib/libcharset.1.dylib 2.0.0 %n (>= 1.8-2)
    %p/lib/libiconv.2.dylib 4.0.0 %n (>= 1.8-2)
  <<
  DocFiles: COPYING* AUTHORS
<<
SplitOff2: <<
  Package: %N-dev
  Depends: %N-shlibs (= %v-%r)
  Replaces: %N (<= 1.8-1)
  BuildDependsOnly: true
  Files: <<
    lib/libcharset.dylib
    lib/libiconv.dylib
    include
  <<
  DocFiles: COPYING* AUTHORS
<<
#
PostInstScript: <<
if [ -L %p/etc/alternatives/charset.alias ]; then
  update-alternatives --remove charset.alias %p/lib/charset.alias.libiconv
fi
<<
#
Description: Character set conversion library
DescDetail: <<
GNU libiconv provides an iconv() implemententation for systems that lack
it, or whose implementation cannot convert from/to Unicode.
<<
DescPort: <<
charset.alias is deleted because it is empty on Darwin anyway and
causes unnecessary conflicts between packages.
<<
DescPackaging: Previous versions by Christoph Pfisterer.
License: LGPL
Maintainer: Max Horn <max@quendi.de>
Homepage: http://www.gnu.org/software/libiconv/
