Package: gettext
Version: 0.10.38
Revision: 6
Source: gnu
Essential: yes
Depends: base-files
UpdateLibtool: true
Patch: %f.patch
SetCPPFLAGS: -no-cpp-precomp
ConfigureParams: --infodir=%p/share/info --mandir=%p/share/man --with-included-gettext
SetLDFLAGS: -L../intl/.libs
InstallScript: <<
make install DESTDIR=%d docdir=%p/share/doc/%n
mkdir -p %i/share/doc/%n
install -m 644 README* AUTHORS BUGS COPYING NEWS THANKS TODO %i/share/doc/%n/
mv %i/lib/charset.alias %i/lib/charset.alias.gettext
<<
Description: Localization support
DescDetail: <<
The gettext package provides the i18n and l10n support used by many
GNU programs but missing from the system C library.
<<
DescPort: <<
Now again deliberately avoids using iconv() because libiconv causes
build problems with various packages.

Also needs help to link against the right copy of the library.
<<
License: GPL
Maintainer: Christoph Pfisterer <chrisp@users.sourceforge.net>
#
PostInstScript: <<
update-alternatives --install %p/lib/charset.alias charset.alias %p/lib/charset.alias.gettext 80
<<
PreRmScript: <<
if [ $1 != "upgrade" ]; then
  update-alternatives --remove charset.alias %p/lib/charset.alias.gettext
fi
<<
InfoDocs: gettext.info
